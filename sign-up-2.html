<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, width=device-width" />
  <title>Registration Page</title>
  <link rel="stylesheet" href="./global.css" />
  <link rel="stylesheet" href="./sign-up-2.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Istok Web:wght@400;700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" />
</head>
<body>
  <div class="sign-up-2">
    <img class="backround-icon" alt="" src="./public/backround@2x.png" />
    <img class="logo-icon1" alt="" src="./public/group-248.svg" />
    <img class="sign-up-2-child" alt="" src="./public/group-244.svg" />
    <div class="niantic-logo-parent">
      <img class="niantic-logo-icon" alt="" src="./public/niantic-logo.svg" />
      <img class="sign-up-with-your-credentials" alt="" src="./public/sign-up-with-your-credentials.svg" />
      <input class="email-input" id="email" placeholder="Email" type="email" required />
      <input class="email-input" id="password" placeholder="Password" type="password" required />
      <input class="email-input" id="confirmPassword" placeholder="Confirm Password" type="password" required />
      <input class="email-input" id="playerId" placeholder="In-game Player ID" type="text" pattern="\d{4} \d{4} \d{4}" title="Please enter a valid in-game Player ID (format: #### #### ####)" required />
      <input class="email-input" id="ign" placeholder="In-game Name (IGN)" type="text" required />
      <div class="sign-up-button-2-wrapper" id="frameContainer">
        <button class="sign-up-button-2" id="signUpButton2">SIGN UP</button>
      </div>
    </div>
  </div>

  <style>
    /* CSS for sign-up button */
    .sign-up-button-2-child {
      position: absolute;
      top: 0;
      left: 0;
      width: 598px;
      height: 68px;
    }
    .sign-up-button-2,
    .sign-up1 {
      cursor: pointer;
      border: 0;
      padding: 0;
      background-color: transparent;
      position: absolute;
    }
    .sign-up1 {
      top: 16.1px;
      left: calc(50% - 72px);
      font-size: var(--font-size-11xl);
      letter-spacing: 0.05em;
      font-weight: 700;
      font-family: var(--font-inter);
      color: var(--color-white);
      text-align: left;
      display: inline-block;
    }
    .sign-up-button-2 {
      top: 0;
      left: 0;
      width: 598px;
      height: 68px;
    }
    .sign-up-button-2:hover {
      cursor: pointer;
      animation: 2s ease 0s 1 normal none shadow-drop-bottom;
      opacity: 1;
    }
    .sign-up-button-2-wrapper {
      align-self: stretch;
      position: relative;
      height: 68px;
      cursor: pointer;
    }
  </style>

  <script>
    // Function to generate random in-game player ID
    function generatePlayerID() {
      var playerID = "";
      for (var i = 0; i < 3; i++) {
        for (var j = 0; j < 4; j++) {
          playerID += Math.floor(Math.random() * 10);
        }
        if (i < 2) playerID += " ";
      }
      return playerID;
    }

    document.addEventListener("DOMContentLoaded", function () {
      // Automatically fill in-game player ID field
      document.getElementById("playerId").value = generatePlayerID();

      // Validation for email format
      var emailInput = document.getElementById("email");
      emailInput.addEventListener("input", function () {
        var email = emailInput.value;
        var isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        if (!isValid) {
          emailInput.setCustomValidity("Please enter a valid email address");
        } else {
          emailInput.setCustomValidity("");
        }
      });

      // Matching password and confirm password
      var passwordInput = document.getElementById("password");
      var confirmPasswordInput = document.getElementById("confirmPassword");
      confirmPasswordInput.addEventListener("input", function () {
        var password = passwordInput.value;
        var confirmPassword = confirmPasswordInput.value;
        if (password !== confirmPassword) {
          confirmPasswordInput.setCustomValidity("Passwords do not match");
        } else {
          confirmPasswordInput.setCustomValidity("");
        }
      });

      var signUpButton = document.getElementById("signUpButton2");
      if (signUpButton) {
        signUpButton.addEventListener("click", function (e) {
          // Perform validation before submission
          var isValid = true;
          if (!emailInput.checkValidity()) isValid = false;
          if (passwordInput.value !== confirmPasswordInput.value) {
            confirmPasswordInput.setCustomValidity("Passwords do not match");
            isValid = false;
          }
          if (isValid) {
            // Proceed with form submission
            console.log("Form submitted successfully!");
            // You can redirect the user to another page or perform further actions here
          } else {
            // Prevent form submission if validation fails
            e.preventDefault();
          }
        });
      }

      var frameContainer = document.getElementById("frameContainer");
      if (frameContainer) {
        frameContainer.addEventListener("click", function (e) {
          window.location.href = "./index.html";
        });
      }
    });
  </script>
</body>
</html>
